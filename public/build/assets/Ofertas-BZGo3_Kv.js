import{f as v,g as T,c as i,a as g,u as n,h as A,w as h,b as e,i as N,q as w,o as r,F as x,r as y,t as a,n as D,m as S,d as k,j as z,k as c,v as p,x as E,D as F,s as U}from"./app-CTz0_JKg.js";import{T as H}from"./TenantLayout-BaIBvYfJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"rounded-2xl bg-slate-800/50 border border-white/10 overflow-hidden"},$={key:0,class:"overflow-x-auto"},I={class:"w-full"},q={class:"divide-y divide-white/5"},P={class:"px-6 py-4"},G={class:"font-medium text-white"},J={class:"text-sm text-slate-400 truncate max-w-xs"},K={class:"px-6 py-4"},Q={class:"px-6 py-4 text-slate-300"},R={key:0,class:"text-green-400"},W={key:1},X={key:2,class:"text-slate-500"},Y={class:"px-6 py-4"},Z={class:"px-2 py-1 rounded-full bg-green-500/20 text-green-400 text-xs"},ee={class:"px-6 py-4 text-right space-x-2"},te=["onClick"],oe=["onClick"],se={key:1,class:"text-center py-16"},le={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},ne={class:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto"},re={class:"p-6 border-b border-white/10"},ie={class:"text-xl font-semibold text-white"},ae=["value"],de={class:"flex items-center gap-3 cursor-pointer"},ue={key:0,class:"grid grid-cols-2 gap-4"},ce={class:"flex gap-3 pt-4"},pe=["disabled"],me={__name:"Ofertas",props:{ofertas:{type:Array,default:()=>[]}},setup(f){const d=v(!1),u=v(null),b=[{value:"beca",label:"Beca"},{value:"descuento",label:"Descuento"},{value:"preuniversitario",label:"Preuniversitario"},{value:"convenio",label:"Convenio"},{value:"otro",label:"Otro"}],s=T({nombre:"",tipo:"beca",descripcion:"",fecha_inicio:"",fecha_fin:"",permanente:!1}),_=l=>l.descripcion||"Sin descripción",m=()=>{u.value=null,s.reset(),d.value=!0},C=l=>{u.value=l,s.nombre=l.nombre,s.tipo=l.tipo,s.descripcion=l.descripcion||"",s.fecha_inicio=l.fecha_inicio||"",s.fecha_fin=l.fecha_fin||"",s.permanente=l.permanente,d.value=!0},M=()=>{u.value?s.put(route("tenant.ofertas.update",u.value.id),{onSuccess:()=>{d.value=!1,s.reset()}}):s.post(route("tenant.ofertas.store"),{onSuccess:()=>{d.value=!1,s.reset()}})},V=l=>{confirm(`¿Eliminar oferta "${l.nombre}"?`)&&U.delete(route("tenant.ofertas.destroy",l.id))},B=l=>b.find(t=>t.value===l)?.label||l,O=l=>({beca:"bg-green-500/20 text-green-400",descuento:"bg-orange-500/20 text-orange-400",preuniversitario:"bg-blue-500/20 text-blue-400",convenio:"bg-purple-500/20 text-purple-400"})[l]||"bg-slate-500/20 text-slate-400";return(l,t)=>(r(),i(x,null,[g(n(A),{title:"Ofertas"}),g(H,null,{header:h(()=>[...t[8]||(t[8]=[e("h1",{class:"text-2xl font-bold text-white"},"Ofertas y Becas",-1)])]),default:h(()=>[e("div",{class:"flex flex-col sm:flex-row gap-4 mb-6"},[t[10]||(t[10]=e("div",{class:"flex-1"},[e("p",{class:"text-slate-400"},"Administra becas, descuentos y ofertas académicas.")],-1)),e("button",{onClick:m,class:"flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium hover:from-indigo-500 hover:to-purple-500 transition-all shadow-lg"},[...t[9]||(t[9]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),w(" Nueva Oferta ",-1)])])]),e("div",L,[f.ofertas.length?(r(),i("div",$,[e("table",I,[t[13]||(t[13]=e("thead",{class:"bg-slate-700/30"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Oferta"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Tipo"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Vigencia"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Aplicados"),e("th",{class:"px-6 py-4 text-right text-xs font-medium text-slate-400 uppercase"},"Acciones")])],-1)),e("tbody",q,[(r(!0),i(x,null,y(f.ofertas,o=>(r(),i("tr",{key:o.id,class:"hover:bg-white/5 transition-colors"},[e("td",P,[e("div",null,[e("p",G,a(o.nombre),1),e("p",J,a(_(o)),1)])]),e("td",K,[e("span",{class:D([O(o.tipo),"px-2 py-1 rounded-full text-xs"])},a(B(o.tipo)),3)]),e("td",Q,[o.permanente?(r(),i("span",R,"Permanente")):o.fecha_inicio&&o.fecha_fin?(r(),i("span",W,a(o.fecha_inicio)+" - "+a(o.fecha_fin),1)):(r(),i("span",X,"Sin fechas"))]),e("td",Y,[e("span",Z,a(o.contacts_count||0),1)]),e("td",ee,[e("button",{onClick:j=>C(o),class:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors"},[...t[11]||(t[11]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,te),e("button",{onClick:j=>V(o),class:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-colors"},[...t[12]||(t[12]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,oe)])]))),128))])])])):(r(),i("div",se,[t[15]||(t[15]=e("div",{class:"mx-auto h-20 w-20 rounded-full bg-slate-700/50 flex items-center justify-center mb-4"},[e("svg",{class:"h-10 w-10 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[16]||(t[16]=e("h3",{class:"text-lg font-semibold text-white mb-2"},"No hay ofertas",-1)),t[17]||(t[17]=e("p",{class:"text-slate-400 mb-4"},"Agrega tu primera beca u oferta",-1)),e("button",{onClick:m,class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white text-sm hover:bg-indigo-500 transition-colors"},[...t[14]||(t[14]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),w(" Agregar Oferta ",-1)])])]))]),(r(),N(S,{to:"body"},[d.value?(r(),i("div",le,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[0]||(t[0]=o=>d.value=!1)}),e("div",ne,[e("div",re,[e("h3",ie,a(u.value?"Editar Oferta":"Nueva Oferta"),1)]),e("form",{onSubmit:z(M,["prevent"]),class:"p-6 space-y-4"},[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Nombre *",-1)),c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>n(s).nombre=o),type:"text",required:"",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1",placeholder:"Beca de Excelencia"},null,512),[[p,n(s).nombre]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Tipo *",-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>n(s).tipo=o),class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1"},[(r(),i(x,null,y(b,o=>e("option",{key:o.value,value:o.value},a(o.label),9,ae)),64))],512),[[E,n(s).tipo]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Descripción",-1)),c(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>n(s).descripcion=o),rows:"3",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1 resize-none",placeholder:"Describe la oferta..."},null,512),[[p,n(s).descripcion]])]),e("div",null,[e("label",de,[c(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>n(s).permanente=o),type:"checkbox",class:"h-4 w-4 text-indigo-600 border-slate-500 rounded focus:ring-indigo-500 bg-slate-700"},null,512),[[F,n(s).permanente]]),t[21]||(t[21]=e("span",{class:"text-slate-300"},"Es permanente (sin fecha de vencimiento)",-1))])]),n(s).permanente?k("",!0):(r(),i("div",ue,[e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Fecha Inicio",-1)),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>n(s).fecha_inicio=o),type:"date",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1"},null,512),[[p,n(s).fecha_inicio]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Fecha Fin",-1)),c(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>n(s).fecha_fin=o),type:"date",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1"},null,512),[[p,n(s).fecha_fin]])])])),e("div",ce,[e("button",{type:"button",onClick:t[7]||(t[7]=o=>d.value=!1),class:"flex-1 px-4 py-3 rounded-xl border border-white/10 text-slate-300 hover:bg-white/5 transition-colors"},"Cancelar"),e("button",{type:"submit",disabled:n(s).processing,class:"flex-1 px-4 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium hover:from-indigo-500 hover:to-purple-500 disabled:opacity-50 transition-all"},a(n(s).processing?"Guardando...":u.value?"Actualizar":"Crear"),9,pe)])],32)])])):k("",!0)]))]),_:1})],64))}};export{me as default};
