import{f as h,g as M,c as i,a as m,u as n,h as B,w as g,b as e,i as j,q as w,o as r,F as y,r as A,t as a,d as x,m as D,j as N,k as c,v as p,s as F}from"./app-BELvaZ_X.js";import{T as L}from"./TenantLayout-DF5zQt8a.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"rounded-2xl bg-slate-800/50 border border-white/10 overflow-hidden"},H={key:0,class:"overflow-x-auto"},z={class:"w-full"},T={class:"divide-y divide-white/5"},U={class:"px-6 py-4"},$={class:"font-medium text-white"},I={class:"text-sm text-slate-400 truncate max-w-xs"},q={class:"px-6 py-4 text-slate-300"},G={key:0},O={key:1},P={key:2,class:"text-slate-500"},R={class:"px-6 py-4 text-slate-300"},J={class:"px-6 py-4"},K={class:"px-2 py-1 rounded-full bg-purple-500/20 text-purple-400 text-xs"},Q={class:"px-6 py-4 text-right space-x-2"},W=["onClick"],X=["onClick"],Y={key:1,class:"text-center py-16"},Z={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},ee={class:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl"},te={class:"p-6 border-b border-white/10"},oe={class:"text-xl font-semibold text-white"},se={class:"grid grid-cols-2 gap-4"},le={class:"flex gap-3 pt-4"},ne=["disabled"],de={__name:"Eventos",props:{eventos:{type:Array,default:()=>[]}},setup(f){const d=h(!1),u=h(null),s=M({nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",lugar:""}),k=l=>l.descripcion||"Sin descripción",v=()=>{u.value=null,s.reset(),d.value=!0},_=l=>{u.value=l,s.nombre=l.nombre,s.descripcion=l.descripcion||"",s.fecha_inicio=l.fecha_inicio||"",s.fecha_fin=l.fecha_fin||"",s.lugar=l.lugar||"",d.value=!0},C=()=>{u.value?s.put(route("tenant.eventos.update",u.value.id),{onSuccess:()=>{d.value=!1,s.reset()}}):s.post(route("tenant.eventos.store"),{onSuccess:()=>{d.value=!1,s.reset()}})},V=l=>{confirm(`¿Eliminar evento "${l.nombre}"?`)&&F.delete(route("tenant.eventos.destroy",l.id))},b=l=>l?new Date(l).toLocaleDateString("es-BO",{day:"numeric",month:"short",year:"numeric"}):"";return(l,t)=>(r(),i(y,null,[m(n(B),{title:"Eventos"}),m(L,null,{header:g(()=>[...t[7]||(t[7]=[e("h1",{class:"text-2xl font-bold text-white"},"Eventos",-1)])]),default:g(()=>[e("div",{class:"flex flex-col sm:flex-row gap-4 mb-6"},[t[9]||(t[9]=e("div",{class:"flex-1"},[e("p",{class:"text-slate-400"},"Administra congresos, ferias y eventos de tu empresa.")],-1)),e("button",{onClick:v,class:"flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium hover:from-indigo-500 hover:to-purple-500 transition-all shadow-lg"},[...t[8]||(t[8]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),w(" Nuevo Evento ",-1)])])]),e("div",S,[f.eventos.length?(r(),i("div",H,[e("table",z,[t[12]||(t[12]=e("thead",{class:"bg-slate-700/30"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Evento"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Fecha"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Lugar"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Registrados "),e("th",{class:"px-6 py-4 text-right text-xs font-medium text-slate-400 uppercase"},"Acciones")])],-1)),e("tbody",T,[(r(!0),i(y,null,A(f.eventos,o=>(r(),i("tr",{key:o.id,class:"hover:bg-white/5 transition-colors"},[e("td",U,[e("div",null,[e("p",$,a(o.nombre),1),e("p",I,a(k(o)),1)])]),e("td",q,[o.fecha_inicio?(r(),i("span",G,a(b(o.fecha_inicio)),1)):x("",!0),o.fecha_fin&&o.fecha_fin!==o.fecha_inicio?(r(),i("span",O," - "+a(b(o.fecha_fin)),1)):x("",!0),o.fecha_inicio?x("",!0):(r(),i("span",P,"Sin fecha"))]),e("td",R,a(o.lugar||"-"),1),e("td",J,[e("span",K,a(o.contacts_count||0),1)]),e("td",Q,[e("button",{onClick:E=>_(o),class:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors"},[...t[10]||(t[10]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,W),e("button",{onClick:E=>V(o),class:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-colors"},[...t[11]||(t[11]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,X)])]))),128))])])])):(r(),i("div",Y,[t[14]||(t[14]=e("div",{class:"mx-auto h-20 w-20 rounded-full bg-slate-700/50 flex items-center justify-center mb-4"},[e("svg",{class:"h-10 w-10 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t[15]||(t[15]=e("h3",{class:"text-lg font-semibold text-white mb-2"},"No hay eventos",-1)),t[16]||(t[16]=e("p",{class:"text-slate-400 mb-4"},"Agrega tu primer evento",-1)),e("button",{onClick:v,class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white text-sm hover:bg-indigo-500 transition-colors"},[...t[13]||(t[13]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),w(" Agregar Evento ",-1)])])]))]),(r(),j(D,{to:"body"},[d.value?(r(),i("div",Z,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[0]||(t[0]=o=>d.value=!1)}),e("div",ee,[e("div",te,[e("h3",oe,a(u.value?"Editar Evento":"Nuevo Evento"),1)]),e("form",{onSubmit:N(C,["prevent"]),class:"p-6 space-y-4"},[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Nombre *",-1)),c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>n(s).nombre=o),type:"text",required:"",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1",placeholder:"Congreso de Medicina 2026"},null,512),[[p,n(s).nombre]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Descripción",-1)),c(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>n(s).descripcion=o),rows:"3",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1 resize-none",placeholder:"Describe el evento..."},null,512),[[p,n(s).descripcion]])]),e("div",se,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Fecha Inicio",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>n(s).fecha_inicio=o),type:"date",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1"},null,512),[[p,n(s).fecha_inicio]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Fecha Fin",-1)),c(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>n(s).fecha_fin=o),type:"date",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1"},null,512),[[p,n(s).fecha_fin]])])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Lugar",-1)),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>n(s).lugar=o),type:"text",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1",placeholder:"Auditorio Principal"},null,512),[[p,n(s).lugar]])]),e("div",le,[e("button",{type:"button",onClick:t[6]||(t[6]=o=>d.value=!1),class:"flex-1 px-4 py-3 rounded-xl border border-white/10 text-slate-300 hover:bg-white/5 transition-colors"},"Cancelar"),e("button",{type:"submit",disabled:n(s).processing,class:"flex-1 px-4 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium hover:from-indigo-500 hover:to-purple-500 disabled:opacity-50 transition-all"},a(n(s).processing?"Guardando...":u.value?"Actualizar":"Crear"),9,ne)])],32)])])):x("",!0)]))]),_:1})],64))}};export{de as default};
