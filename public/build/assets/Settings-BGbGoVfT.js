import{e as k,f,g as c,c as b,a as w,u as s,h as C,w as g,b as t,i as _,t as i,j as h,k as a,v as r,o as p,m as A,d as x,F as S}from"./app-BScuoAN6.js";import{T}from"./TenantLayout-ztw8dId5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"max-w-3xl space-y-6"},j={class:"rounded-2xl bg-slate-800/50 border border-white/10 p-6"},I={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},U={class:"text-white font-medium"},N={class:"text-white font-medium"},P={class:"text-white font-medium"},B={class:"text-white font-medium"},F={class:"rounded-2xl bg-slate-800/50 border border-white/10 p-6"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},M={class:"flex justify-end pt-2"},D=["disabled"],W={class:"rounded-2xl bg-slate-800/50 border border-white/10 p-6"},q={class:"flex items-center gap-4 mb-6"},z={class:"h-16 w-16 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center"},E={class:"text-2xl font-bold text-white"},$={class:"text-xl font-medium text-white"},O={class:"text-slate-400"},L={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},R={class:"text-white font-medium"},H={class:"text-white font-medium"},J={class:"rounded-2xl bg-slate-800/50 border border-white/10 p-6"},K={class:"flex items-center justify-between p-4 rounded-xl bg-slate-700/30"},Q={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},X={class:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl"},Y={key:0,class:"mt-1 text-sm text-red-400"},Z={key:0,class:"mt-1 text-sm text-red-400"},tt={class:"flex gap-3 pt-4"},et=["disabled"],nt={__name:"Settings",props:{tenant:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})}},setup(n){const m=n;k();const u=f(!1);f(!1);const o=c({current_password:"",password:"",password_confirmation:""}),d=c({whatsapp_token:m.tenant?.whatsapp_token||"",whatsapp_phone_id:m.tenant?.whatsapp_phone_id||"",whatsapp_business_account_id:m.tenant?.whatsapp_business_account_id||""}),v=()=>{d.post(route("tenant.settings.update"),{preserveScroll:!0,onSuccess:()=>{}})},y=()=>{o.post(route("tenant.password.update"),{onSuccess:()=>{u.value=!1,o.reset()}})};return(st,e)=>(p(),b(S,null,[w(s(C),{title:"Configuración"}),w(T,null,{header:g(()=>[...e[9]||(e[9]=[t("h1",{class:"text-2xl font-bold text-white"},"Configuración",-1)])]),default:g(()=>[t("div",V,[t("div",j,[e[14]||(e[14]=t("h2",{class:"text-lg font-semibold text-white mb-4"},"Información de la Empresa",-1)),t("div",I,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm text-slate-400 mb-1"},"Nombre",-1)),t("p",U,i(n.tenant?.name||"-"),1)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm text-slate-400 mb-1"},"NIT",-1)),t("p",N,i(n.tenant?.nit||"-"),1)]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm text-slate-400 mb-1"},"Razón Social",-1)),t("p",P,i(n.tenant?.razon_social||"-"),1)]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm text-slate-400 mb-1"},"Teléfono",-1)),t("p",B,i(n.tenant?.phone||"-"),1)])])]),t("div",F,[e[18]||(e[18]=t("h2",{class:"text-lg font-semibold text-white mb-4"},"Integración WhatsApp",-1)),e[19]||(e[19]=t("p",{class:"text-sm text-slate-400 mb-4"},"Configura las credenciales de la API de WhatsApp Cloud.",-1)),t("form",{onSubmit:h(v,["prevent"]),class:"space-y-4"},[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Token de Acceso (Permanente)",-1)),a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s(d).whatsapp_token=l),type:"password",class:"w-full rounded-xl bg-slate-700/50 border border-white/10 px-4 py-2 text-white focus:border-indigo-500 focus:ring-indigo-500",placeholder:"EAAG..."},null,512),[[r,s(d).whatsapp_token]])]),t("div",G,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"ID de Teléfono",-1)),a(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s(d).whatsapp_phone_id=l),type:"text",class:"w-full rounded-xl bg-slate-700/50 border border-white/10 px-4 py-2 text-white focus:border-indigo-500 focus:ring-indigo-500",placeholder:"100..."},null,512),[[r,s(d).whatsapp_phone_id]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"ID de Cuenta (WABA)",-1)),a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s(d).whatsapp_business_account_id=l),type:"text",class:"w-full rounded-xl bg-slate-700/50 border border-white/10 px-4 py-2 text-white focus:border-indigo-500 focus:ring-indigo-500",placeholder:"100..."},null,512),[[r,s(d).whatsapp_business_account_id]])])]),t("div",M,[t("button",{type:"submit",disabled:s(d).processing,class:"px-6 py-2 rounded-xl bg-green-600 text-white font-medium hover:bg-green-500 disabled:opacity-50 transition-all"},i(s(d).processing?"Guardando...":"Guardar Configuración"),9,D)])],32)]),t("div",W,[e[22]||(e[22]=t("h2",{class:"text-lg font-semibold text-white mb-4"},"Mi Perfil",-1)),t("div",q,[t("div",z,[t("span",E,i(n.user?.name?.charAt(0)||"U"),1)]),t("div",null,[t("p",$,i(n.user?.name)+" "+i(n.user?.apellidos),1),t("p",O,i(n.user?.email),1)])]),t("div",L,[t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm text-slate-400 mb-1"},"CI",-1)),t("p",R,i(n.user?.ci||"-"),1)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm text-slate-400 mb-1"},"Teléfono",-1)),t("p",H,i(n.user?.phone||"-"),1)])])]),t("div",J,[e[24]||(e[24]=t("h2",{class:"text-lg font-semibold text-white mb-4"},"Seguridad",-1)),t("div",K,[e[23]||(e[23]=t("div",null,[t("p",{class:"font-medium text-white"},"Contraseña"),t("p",{class:"text-sm text-slate-400"},"Cambia tu contraseña de acceso")],-1)),t("button",{onClick:e[3]||(e[3]=l=>u.value=!0),class:"px-4 py-2 rounded-xl bg-indigo-600 text-white text-sm font-medium hover:bg-indigo-500 transition-colors"}," Cambiar ")])])]),(p(),_(A,{to:"body"},[u.value?(p(),b("div",Q,[t("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e[4]||(e[4]=l=>u.value=!1)}),t("div",X,[e[29]||(e[29]=t("div",{class:"p-6 border-b border-white/10"},[t("h3",{class:"text-xl font-semibold text-white"},"Cambiar Contraseña")],-1)),t("form",{onSubmit:h(y,["prevent"]),class:"p-6 space-y-4"},[t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Contraseña Actual",-1)),a(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(o).current_password=l),type:"password",required:"",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1"},null,512),[[r,s(o).current_password]]),s(o).errors.current_password?(p(),b("p",Y,i(s(o).errors.current_password),1)):x("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Nueva Contraseña",-1)),a(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>s(o).password=l),type:"password",required:"",minlength:"8",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1"},null,512),[[r,s(o).password]]),e[27]||(e[27]=t("p",{class:"mt-1 text-xs text-slate-500"},"Mínimo 8 caracteres",-1)),s(o).errors.password?(p(),b("p",Z,i(s(o).errors.password),1)):x("",!0)]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Confirmar Contraseña",-1)),a(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>s(o).password_confirmation=l),type:"password",required:"",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1"},null,512),[[r,s(o).password_confirmation]])]),t("div",tt,[t("button",{type:"button",onClick:e[8]||(e[8]=l=>u.value=!1),class:"flex-1 px-4 py-3 rounded-xl border border-white/10 text-slate-300 hover:bg-white/5 transition-colors"}," Cancelar "),t("button",{type:"submit",disabled:s(o).processing,class:"flex-1 px-4 py-3 rounded-xl bg-indigo-600 text-white font-medium hover:bg-indigo-500 disabled:opacity-50 transition-all"},i(s(o).processing?"Guardando...":"Guardar"),9,et)])],32)])])):x("",!0)]))]),_:1})],64))}};export{nt as default};
