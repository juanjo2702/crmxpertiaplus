import{f as v,g as M,c as n,a as w,u as a,h as N,w as y,b as e,i as A,q as k,o as l,F as x,r as b,t as i,d as m,m as V,j as D,k as f,v as h,n as $,s as z}from"./app-CvBBLmC7.js";import{T as H}from"./TenantLayout-B83AQDb_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"rounded-2xl bg-slate-800/50 border border-white/10 overflow-hidden"},E={key:0,class:"overflow-x-auto"},L={class:"w-full"},F={class:"divide-y divide-white/5"},I={class:"px-6 py-4"},U={class:"font-medium text-white"},q={class:"text-sm text-slate-400 truncate max-w-xs"},G={class:"px-6 py-4 text-slate-300"},O={class:"px-6 py-4"},J={class:"flex flex-wrap gap-1"},K={key:0,class:"text-slate-500 text-sm"},P={class:"px-6 py-4"},Q={class:"px-2 py-1 rounded-full bg-green-500/20 text-green-400 text-xs"},R={class:"px-6 py-4 text-right space-x-2"},W=["onClick"],X=["onClick"],Y={key:1,class:"text-center py-16"},Z={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},ee={class:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto"},te={class:"p-6 border-b border-white/10"},se={class:"text-xl font-semibold text-white"},oe={class:"space-y-2 max-h-40 overflow-y-auto"},re=["checked","onChange"],le={class:"text-white"},ne={key:0,class:"text-slate-400 text-sm"},ae={key:0,class:"text-slate-500 text-sm"},ie={class:"flex gap-3 pt-4"},de=["disabled"],xe={__name:"Carreras",props:{carreras:{type:Array,default:()=>[]},sedes:{type:Array,default:()=>[]}},setup(p){const d=v(!1),u=v(null),o=M({nombre:"",descripcion:"",duracion:"",sedes:[]}),C=r=>r.descripcion||"Sin descripción",g=()=>{u.value=null,o.reset(),d.value=!0},_=r=>{u.value=r,o.nombre=r.nombre,o.descripcion=r.descripcion||"",o.duracion=r.duracion||"",o.sedes=r.sedes?.map(t=>t.id)||[],d.value=!0},S=()=>{u.value?o.put(route("tenant.carreras.update",u.value.id),{onSuccess:()=>{d.value=!1,o.reset()}}):o.post(route("tenant.carreras.store"),{onSuccess:()=>{d.value=!1,o.reset()}})},j=r=>{confirm(`¿Eliminar carrera "${r.nombre}"?`)&&z.delete(route("tenant.carreras.destroy",r.id))},B=r=>{const t=o.sedes.indexOf(r);t>-1?o.sedes.splice(t,1):o.sedes.push(r)};return(r,t)=>(l(),n(x,null,[w(a(N),{title:"Carreras"}),w(H,null,{header:y(()=>[...t[5]||(t[5]=[e("h1",{class:"text-2xl font-bold text-white"},"Carreras",-1)])]),default:y(()=>[e("div",{class:"flex flex-col sm:flex-row gap-4 mb-6"},[t[7]||(t[7]=e("div",{class:"flex-1"},[e("p",{class:"text-slate-400"},"Administra las carreras o programas académicos.")],-1)),e("button",{onClick:g,class:"flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium hover:from-indigo-500 hover:to-purple-500 transition-all shadow-lg"},[...t[6]||(t[6]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),k(" Nueva Carrera ",-1)])])]),e("div",T,[p.carreras.length?(l(),n("div",E,[e("table",L,[t[10]||(t[10]=e("thead",{class:"bg-slate-700/30"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Carrera"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Duración"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Sedes"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase"},"Interesados "),e("th",{class:"px-6 py-4 text-right text-xs font-medium text-slate-400 uppercase"},"Acciones")])],-1)),e("tbody",F,[(l(!0),n(x,null,b(p.carreras,s=>(l(),n("tr",{key:s.id,class:"hover:bg-white/5 transition-colors"},[e("td",I,[e("div",null,[e("p",U,i(s.nombre),1),e("p",q,i(C(s)),1)])]),e("td",G,i(s.duracion||"-"),1),e("td",O,[e("div",J,[(l(!0),n(x,null,b(s.sedes,c=>(l(),n("span",{key:c.id,class:"px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-400 text-xs"},i(c.nombre),1))),128)),s.sedes?.length?m("",!0):(l(),n("span",K,"Sin sedes"))])]),e("td",P,[e("span",Q,i(s.contacts_count||0),1)]),e("td",R,[e("button",{onClick:c=>_(s),class:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors"},[...t[8]||(t[8]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,W),e("button",{onClick:c=>j(s),class:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-colors"},[...t[9]||(t[9]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,X)])]))),128))])])])):(l(),n("div",Y,[t[12]||(t[12]=e("div",{class:"mx-auto h-20 w-20 rounded-full bg-slate-700/50 flex items-center justify-center mb-4"},[e("svg",{class:"h-10 w-10 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),t[13]||(t[13]=e("h3",{class:"text-lg font-semibold text-white mb-2"},"No hay carreras",-1)),t[14]||(t[14]=e("p",{class:"text-slate-400 mb-4"},"Agrega tu primera carrera",-1)),e("button",{onClick:g,class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white text-sm hover:bg-indigo-500 transition-colors"},[...t[11]||(t[11]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),k(" Agregar Carrera ",-1)])])]))]),(l(),A(V,{to:"body"},[d.value?(l(),n("div",Z,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[0]||(t[0]=s=>d.value=!1)}),e("div",ee,[e("div",te,[e("h3",se,i(u.value?"Editar Carrera":"Nueva Carrera"),1)]),e("form",{onSubmit:D(S,["prevent"]),class:"p-6 space-y-4"},[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Nombre *",-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>a(o).nombre=s),type:"text",required:"",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1",placeholder:"Ingeniería de Sistemas"},null,512),[[h,a(o).nombre]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Duración",-1)),f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>a(o).duracion=s),type:"text",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1",placeholder:"5 años"},null,512),[[h,a(o).duracion]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Descripción",-1)),f(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>a(o).descripcion=s),rows:"3",class:"w-full rounded-xl bg-slate-800/50 border border-white/10 px-4 py-3 text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-indigo-500 focus:ring-1 resize-none",placeholder:"Descripción de la carrera..."},null,512),[[h,a(o).descripcion]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Sedes donde se imparte",-1)),e("div",oe,[(l(!0),n(x,null,b(p.sedes,s=>(l(),n("label",{key:s.id,class:$(["flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all",a(o).sedes.includes(s.id)?"bg-indigo-500/20 border border-indigo-500/50":"bg-slate-800/50 border border-white/10 hover:bg-slate-700/50"])},[e("input",{type:"checkbox",checked:a(o).sedes.includes(s.id),onChange:c=>B(s.id),class:"h-4 w-4 text-indigo-600 border-slate-500 rounded focus:ring-indigo-500 focus:ring-offset-0 bg-slate-700"},null,40,re),e("span",le,i(s.nombre),1),s.ciudad?(l(),n("span",ne,"- "+i(s.ciudad),1)):m("",!0)],2))),128)),p.sedes.length?m("",!0):(l(),n("p",ae,"No hay sedes. Crea una primero. "))])]),e("div",ie,[e("button",{type:"button",onClick:t[4]||(t[4]=s=>d.value=!1),class:"flex-1 px-4 py-3 rounded-xl border border-white/10 text-slate-300 hover:bg-white/5 transition-colors"},"Cancelar"),e("button",{type:"submit",disabled:a(o).processing,class:"flex-1 px-4 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium hover:from-indigo-500 hover:to-purple-500 disabled:opacity-50 transition-all"},i(a(o).processing?"Guardando...":u.value?"Actualizar":"Crear"),9,de)])],32)])])):m("",!0)]))]),_:1})],64))}};export{xe as default};
